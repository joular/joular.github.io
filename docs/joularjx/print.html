<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>JoularJX Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="guide/supported_platforms.html"><strong aria-hidden="true">2.</strong> Supported Platforms</a></li><li class="chapter-item expanded "><a href="guide/installation.html"><strong aria-hidden="true">3.</strong> Installation</a></li><li class="chapter-item expanded "><a href="guide/quick_usage.html"><strong aria-hidden="true">4.</strong> Quick Usage</a></li><li class="chapter-item expanded affix "><li class="part-title">Reference Guide</li><li class="chapter-item expanded "><a href="ref/compilation.html"><strong aria-hidden="true">5.</strong> Compilation</a></li><li class="chapter-item expanded "><a href="ref/configuration.html"><strong aria-hidden="true">6.</strong> Configuration Properties</a></li><li class="chapter-item expanded "><a href="ref/generated_files.html"><strong aria-hidden="true">7.</strong> Generated Files</a></li><li class="chapter-item expanded "><a href="ref/integration.html"><strong aria-hidden="true">8.</strong> Integration with Systems and Tools</a></li><li class="chapter-item expanded "><a href="ref/how_it_works.html"><strong aria-hidden="true">9.</strong> How JoularJX Works</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">JoularJX Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPLv3-blue" alt="License: GPL v3" /></a>
<a href="https://openjdk.java.net"><img src="https://img.shields.io/badge/Made%20with-Java-orange" alt="Java" /></a></p>
<p><img src="joularjx.png" alt="JoularJX Logo" /></p>
<p>JoularJX is part of the <a href="https://www.noureddine.org/research/joular/"><img src="https://raw.githubusercontent.com/joular/.github/main/profile/joular.png" alt="Joular Project" width="64" /></a> project.</p>
<p>JoularJX is a Java-based agent for power monitoring at the source code level with support for modern Java versions and multi-OS to monitor power consumption of hardware and software.</p>
<p>JoularJX is a Java agent where you can simply hook it to the Java Virtual Machine when starting your Java program. To get power readings, JoularJX uses a custom PowerMonitor program (based on Intel Power Gadget API) on Windows, Intel RAPL (through powercap) on GNU/Linux, Powermetrics on macOS, and our accurate power models on Raspberry Pi and similar devices.</p>
<p>JoularJX is the successor of <a href="https://www.noureddine.org/research/jalen">Jalen</a>, and the core approach of statistical sampling is based and inspired by the work we did in monitoring energy hotspots in software (<a href="https://hal.inria.fr/hal-00715331/document">ASE 2012 conference paper</a>, and <a href="https://hal.inria.fr/hal-01069142/document">ASE Journal paper in 2015</a>).</p>
<p>The official website of JoularJX is: <a href="https://www.noureddine.org/research/joular/joularjx">https://www.noureddine.org/research/joular/joularjx</a>.</p>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<ul>
<li>Monitor power consumption of each method at runtime</li>
<li>Monitor the evolution of power consumption of each method</li>
<li>Monitor power consumption of methods' call tree and execution branches</li>
<li>Uses a Java agent, no source code instrumentation needed</li>
<li>Uses Intel RAPL (powercap interface) for getting accurate power reading on GNU/Linux, our research-based regression models on Raspberry Pi devices, and a custom program monitor (based on Intel Power Gadget) for accurate power readings on Windows</li>
<li>Provides real-time power consumption of every method in the monitored program</li>
<li>Provides total energy for every method on program exit</li>
</ul>
<h2 id="cite-this-work"><a class="header" href="#cite-this-work">Cite this work</a></h2>
<p>To cite our work in a research paper, please cite our paper in the 18th International Conference on Intelligent Environments (IE2022).</p>
<ul>
<li><strong>PowerJoular and JoularJX: Multi-Platform Software Power Monitoring Tools</strong>. Adel Noureddine. In the 18th International Conference on Intelligent Environments (IE2022). Biarritz, France, 2022.</li>
</ul>
<pre><code>@inproceedings{noureddine-ie-2022,
  title = {PowerJoular and JoularJX: Multi-Platform Software Power Monitoring Tools},
  author = {Noureddine, Adel},
  booktitle = {18th International Conference on Intelligent Environments (IE2022)},
  address = {Biarritz, France},
  year = {2022},
  month = {Jun},
  keywords = {Power Monitoring; Measurement; Power Consumption; Energy Analysis}
}
</code></pre>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>JoularJX is licensed under the GNU GPL 3 license only (GPL-3.0-only).</p>
<p>Copyright (c) 2021-2023, Adel Noureddine, Universit√© de Pau et des Pays de l'Adour.
All rights reserved. This program and the accompanying materials are made available under the terms of the GNU General Public License v3.0 only (GPL-3.0-only) which accompanies this distribution, and is available at: https://www.gnu.org/licenses/gpl-3.0.en.html</p>
<p>Author : <a href="https://www.noureddine.org/">Adel Noureddine</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="supported-platforms"><a class="header" href="#supported-platforms">Supported Platforms</a></h1>
<p>JoularJX support the following platforms and operating systems:</p>
<ul>
<li>PC/Servers using a RAPL supported Intel processor (since Sandy Bridge) or a RAPL supported AMD processor (since Ryzen), on GNU/Linux, on Windows and on macOS.</li>
</ul>
<p>The supported list of Raspberry Pi and Asus Tinker Board models are listed below.
We support all revisions of each model lineup.
However, the model is generated and trained on a specific revision (listed between brackets), and the accuracy is best on this particular revision.</p>
<ul>
<li>Raspberry Pi devices (multiple models) on GNU/Linux:
<ul>
<li>Model Zero W (rev 1.1), for 32 bits OS</li>
<li>Model 1 B (rev 2), for 32 bits OS</li>
<li>Model 1 B+ (rev 1.2), for 32 bits OS</li>
<li>Model 2 B (rev 1.1), for 32 bits OS</li>
<li>Model 3 B (rev 1.2), for 32 bits OS</li>
<li>Model 3 B+ (rev 1.3), for 32 bits OS</li>
<li>Model 4 B (rev 1.1, and rev 1.2), for both 32 bits and 64 bits OS</li>
<li>Model 400 (rev 1.0), for 64 bits OS</li>
<li>Model 5 B (rev 1.0), for 64 bits OS</li>
</ul>
</li>
<li>Asus Tinkber Board (S)</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Platform</th><th style="text-align: center">Supported OS</th><th style="text-align: center">Based on</th><th style="text-align: center">Supported Architecture</th></tr></thead><tbody>
<tr><td style="text-align: center">Linux PC/Server</td><td style="text-align: center">GNU/Linux</td><td style="text-align: center">RAPL (using powercap)</td><td style="text-align: center">x86, x86_64</td></tr>
<tr><td style="text-align: center">Windows PC/Server</td><td style="text-align: center">Windows</td><td style="text-align: center">Intel Power Gadget API</td><td style="text-align: center">x86, x86_64</td></tr>
<tr><td style="text-align: center">macOS PC</td><td style="text-align: center">macOS</td><td style="text-align: center">Powermetrics</td><td style="text-align: center">x86_64, ARM</td></tr>
<tr><td style="text-align: center">Raspberry Pi</td><td style="text-align: center">GNU/Linux</td><td style="text-align: center">Our regression models</td><td style="text-align: center">ARM</td></tr>
<tr><td style="text-align: center">Asus Tinker Board</td><td style="text-align: center">GNU/Linux</td><td style="text-align: center">Our regression models</td><td style="text-align: center">ARM</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>JoularJX is a Java agent, and therfore provided as a <code>.jar</code> file.
Just use the compiled jar package for JoularJX.</p>
<p>You can also run the installation script in the <code>install/</code> folder:</p>
<ul>
<li>On Windows, run in a command line: <code>windows-install.bat</code>. This will install JoularJX jar and ProgramMonitor to <code>C:\joularjx</code>.</li>
<li>On GNU/Linux, run in a terminal: <code>sh linux-install.sh</code>. This will install JoularJX to <code>/opt/joularjx</code>.</li>
<li>on macOS, we don't provide a quick installation script, but you follow the compilation instructions.</li>
</ul>
<p>JoularJX requires a minimum version of Java 11+.</p>
<p>On Windows, JoularJX uses a custom power monitor program that uses Intel Power Gadget API on Windows, and therefore require installing the <a href="https://www.intel.com/content/www/us/en/developer/articles/tool/power-gadget.html">Intel Power Gadget tool</a> and using a supported Intel CPU.</p>
<p>On x86_64 Linux, JoularJX uses Intel RAPL interface through powercap, and therefore requires running on an Intel CPU or an AMD Ryzen CPU.</p>
<p>On supported ARM Linux, JoularJX uses our own research-based regression models to estimate CPU power consumption with support for the following, therefore not requiring any additional dependencies.</p>
<p>On macOS, JoularJX uses Powermetrics, a tool bundled with the OS.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quick-usage"><a class="header" href="#quick-usage">Quick Usage</a></h1>
<p>JoularJX is a Java agent where you can simply hook it to the Java Virtual Machine when starting your Java program's main class:</p>
<pre><code>java -javaagent:joularjx-$version.jar YourProgramMainClass
</code></pre>
<p>If your program is a JAR file, then just run it as usual while adding JoularJX:</p>
<pre><code>java -javaagent:joularjx-$version.jar -jar yourProgram.jar
</code></pre>
<p>JoularJX will generate multiple CSV files according to the configuration settings (in <code>config.properties</code>), and will create these files in a <code>joularjx-results</code>folder.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compilation"><a class="header" href="#compilation">Compilation</a></h1>
<p>To build JoularJX, you need Java 11+ and Maven, then just build:</p>
<pre><code>mvn clean install -DskipTests
</code></pre>
<p>Alternatively, you can use the Maven wrappen shipped with the project with the command:</p>
<pre><code>Linux and macOS: ./mvnw clean install -DskipTests
Windows: mvnw.cmd clean install -DskipTests
</code></pre>
<p>To compile the Windows power monitor tool, required by JoularJX on Windows, open the project in Visual Studio and compile there.
Or open, Developer Command Prompt for VS (or Developer PowerShell for VS), and compile with this command:</p>
<pre><code>msbuild.exe PowerMonitor.sln /property:Configuration=Release
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration-properties"><a class="header" href="#configuration-properties">Configuration Properties</a></h1>
<p>JoularJX can be configured by modifying the <code>config.properties</code> files:</p>
<ul>
<li><code>filter-method-names</code>: list of strings which will be used to filter the monitored methods (see Generated files below for explanations).</li>
<li><code>save-runtime-data</code>: write runtime methods power consumption in a CSV file.</li>
<li><code>overwrite-runtime-data</code>: overwrite runtime power data files, or if set to false, it will write new files for each monitoring cycle.</li>
<li><code>logger-level</code>: set the level of information (by logger) given by JoularJX in the terminal (allowed values: OFF, INFO, WARNING, SEVERE).</li>
<li><code>powermonitor-path</code>: Full path to the power monitor program (only for Windows).</li>
<li><code>track-consumption-evolution</code>: generate CSV files for each method containing details of the method's consumption over the time. Each consumption value is mapped to an Unix timestamp.</li>
<li><code>hide-agent-consumption</code>: if set to true, the energy consumption of the agent threads will not be reported.</li>
<li><code>enable-call-trees-consumption</code>: compute methods call trees energy consumption. A CSV file will be generated at the end of the agent's execution, associating to each call tree it's total energy consumption.</li>
<li><code>save-call-trees-runtime-data</code>: write runtime call trees power consumption in a CSV file. For each monitoring cycle (1 second), a new CSV file will be generated, containing the runtime power consumption of the call trees. The generated files will include timestamps in their names.</li>
<li><code>overwrite-call-trees-runtime-data</code>: overwrite runtime call trees power data file, or if set to false, it will write new file for each monitoring cycle.</li>
</ul>
<p>You can install the jar package (and the PowerMonitor.exe on Windows) wherever you want, and call it in the <code>javaagent</code> with the full path.
However, <code>config.properties</code> must be copied to the same folder as where you run the Java command.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="generated-files"><a class="header" href="#generated-files">Generated Files</a></h1>
<p>JoularJX will generate multiple CSV files according to the configuration settings (in <code>config.properties</code>), and will create these files in a <code>joularjx-results</code>folder.</p>
<p>The generated files are available under the following folder structure:</p>
<ul>
<li>joularjx-results
<ul>
<li>appName-PID-start_timestamp
<ul>
<li>all (power/energy data for all methods, including the JDK ones)
<ul>
<li>runtime (power consumption every second)
<ul>
<li>calltree (consumption for each call tree branch)</li>
<li>methods (consumption for each methods)</li>
</ul>
</li>
<li>total (total energy consumption, generated at the program's end)
<ul>
<li>calltree</li>
<li>methods</li>
</ul>
</li>
<li>evolution (power consumption evolution of every method, throughout the execution of the application)</li>
</ul>
</li>
<li>app (power/energy data for methods of the monitored application, according to the <code>filter-method-names</code> setting)
<ul>
<li>runtime
<ul>
<li>calltree</li>
<li>methods</li>
</ul>
</li>
<li>total
<ul>
<li>calltree</li>
<li>methods</li>
</ul>
</li>
<li>evolution</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The folder structure is summarized in the following figure:</p>
<p><img src="ref/joularjx2-results.png" alt="JoularJX folder structure" /></p>
<p>For real-time power data or the total energy at the program exit, JoularJX generated two CSV files:</p>
<ul>
<li>A file which contains power or energy data for all methods, which include the JDK's ones.</li>
<li>A <em>filtered file</em> which only includes the power or energy data of those filtered methods (can be configured in <code>config.properties</code>). This data is not just a subset of the first data file, but rather a recalculation done by JoularJX to provide accurate data: methods that start with the filtered keyword, will be allocated the power or energy consumed by the JDK methods that it calls.</li>
</ul>
<p>For example, if <code>Package1.MethodA</code> calls <code>java.io.PrintStream.println</code> to print some text to a terminal, then we calculate:</p>
<ul>
<li>In the first file, the power or energy consumed by <code>println</code> separately from <code>MethodA</code>. The latter power consumption won't include those consumed by <code>println</code>.</li>
<li>In the second file, if we filter methods from <code>Package1</code>, then the power consumption of <code>println</code> will be added to <code>MethodA</code> power consumption, and the file will only provide power or energy of <code>Package1</code> methods.</li>
</ul>
<p>We manage to do this by analyzing the stacktrace of all running threads on runtime.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="integration-with-systems-and-tools"><a class="header" href="#integration-with-systems-and-tools">Integration with Systems and Tools</a></h1>
<p>JoularJX is a Java agent, and the compiled JAR file have no external dependencies.
Therefore, it can be integrated and used in any Java-based virtual machine and setup.</p>
<p>For instance, you can add JoularJX to the run/execute parameters of your favorite IDE (Eclipse, IntelliJ Idea, NetBeans, etc.), or to your development workflow or continuous integration and delivery processes (CI/CD).</p>
<p>JoularJX runs indistinctly and with the same configuration options and generated files on all supported platforms, from Windows to Linux, from x86_64 servers and PC to ARM Raspberry Pi devices.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-joularjx-works"><a class="header" href="#how-joularjx-works">How JoularJX Works</a></h1>
<p>JoularJX is a Java agent that hooks to the Java Virtual Machine (JVM) on startup along with the monitored application.
It runs in a separate thread and collects information about CPU usage of the JVM process, each thread running in the JVM, and then for each method of the application.</p>
<p><a href="https://www.noureddine.org/research/joular/joularjx">JoularJX</a> is the successor of <a href="https://www.noureddine.org/research/jalen">Jalen</a>, and the core approach of statistical sampling is based and inspired by the work we did in monitoring energy hotspots in software (<a href="https://hal.inria.fr/hal-00715331/document">ASE 2012 conference paper</a>, and <a href="https://hal.inria.fr/hal-01069142/document">ASE Journal paper in 2015</a>).
JoularJX version 1 is described in our newer research paper at the <a href="https://hal.science/hal-03608223v1/document">IE 2022 conference</a>.</p>
<p>The general architecture of JoularJX is summarized in the following figure:</p>
<p><img src="ref/joularjx-architecture-1.png" alt="JoularJX General Architecture" /></p>
<p>The monitoring process is as follows:</p>
<ul>
<li>Every application monitoring cycle (by default, 1 second), JoularJX collects the CPU usage of the JVM and calculates the power consumption of the entire JVM (on Windows, using the PowerMonitor.exe program using Intel API, on x86_64 Linux using RAPL interface in the Linux kernel, and on Raspberry Pi and Asus Tinker Board using our regression power models).</li>
<li>Then, JoularJX collects the CPU usage of each thread in the JVM using the JDK's <code>getThreadCpuTime</code> method, and calculates the power consumption of each thread.</li>
<li>Every source code monitoring cycle (by default, 10 milliseconds), JoularJX checks, for each thread, the stacktrace and identify the method being executed (the method on top of the stacktrace). At the end of the application monitoring cycle, JoularJX statistically analyzes the ratio of each method observed in the stacktrace, and allocate the power consumption accordingly as seen in the following figures:</li>
</ul>
<p><img src="ref/joularjx-architecture-2.png" alt="JoularJX Simplified Architecture" /></p>
<p><img src="ref/joularjx-architecture-3.png" alt="JoularJX Simplified Approach to Monitor Power per Method" /></p>
<p>Usually the method on the top of the stacktrace is a method from the JDK.
For example, calling <code>System.out.println()</code> from the application's method <code>Main</code> will call other methods from the JDK (such as buffers, writeln, etc.).
JoularJX will verify, when checking the stacktrace, if the method is called, anywhere in its call tree, by a method from the application we wish to monitor, and thus isolate these statistics from methods called by other applications or by the JoularJX agent itself.</p>
<p>During these monitoring cycles, JoularJX not only identify the method being executed, but also its execution branch (all the methods calling it), and can provide power and energy consumption for each execution branch as seen in the following figures:</p>
<p><img src="ref/method-callree.png" alt="Methods Call Tree" /></p>
<p><img src="ref/calltree.png" alt="Methods Call Tree" /></p>
<p>JoularJX will also automatically calculate the power consumption for each method, for each timestamp, thus allowing to trace the power consumption evolution of each method, as seen in the following figure:</p>
<p><img src="ref/joularjx2-evolution.png" alt="Methods Power Evolution" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
